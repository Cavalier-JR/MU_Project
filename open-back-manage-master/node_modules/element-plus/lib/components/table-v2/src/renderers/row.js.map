{"version":3,"file":"row.js","sources":["../../../../../../../packages/components/table-v2/src/renderers/row.tsx"],"sourcesContent":["import { Row } from '../components'\nimport { tryCall } from '../utils'\n\nimport type { FunctionalComponent, UnwrapNestedRefs } from 'vue'\nimport type { UseNamespaceReturn } from '@element-plus/hooks'\nimport type { UseTableReturn } from '../use-table'\nimport type { TableV2Props } from '../table'\nimport type { TableGridRowSlotParams } from '../table-grid'\n\ntype RowRendererProps = TableGridRowSlotParams &\n  Pick<\n    TableV2Props,\n    | 'expandColumnKey'\n    | 'estimatedRowHeight'\n    | 'rowProps'\n    | 'rowClass'\n    | 'rowKey'\n    | 'rowEventHandlers'\n  > &\n  UnwrapNestedRefs<\n    Pick<\n      UseTableReturn,\n      | 'depthMap'\n      | 'expandedRowKeys'\n      | 'hasFixedColumns'\n      | 'hoveringRowKey'\n      | 'onRowHovered'\n      | 'onRowExpanded'\n      | 'columnsStyles'\n    >\n  > & {\n    ns: UseNamespaceReturn\n  }\n\nconst RowRenderer: FunctionalComponent<RowRendererProps> = (\n  props,\n  { slots }\n) => {\n  const {\n    columns,\n    columnsStyles,\n    depthMap,\n    expandColumnKey,\n    expandedRowKeys,\n    estimatedRowHeight,\n    hasFixedColumns,\n    hoveringRowKey,\n    rowData,\n    rowIndex,\n    style,\n    isScrolling,\n    rowProps,\n    rowClass,\n    rowKey,\n    rowEventHandlers,\n    ns,\n    onRowHovered,\n    onRowExpanded,\n  } = props\n\n  const rowKls = tryCall(rowClass, { columns, rowData, rowIndex }, '')\n  const additionalProps = tryCall(rowProps, {\n    columns,\n    rowData,\n    rowIndex,\n  })\n  const _rowKey = rowData[rowKey]\n  const depth = depthMap[_rowKey] || 0\n  const canExpand = Boolean(expandColumnKey)\n  const isFixedRow = rowIndex < 0\n  const kls = [\n    ns.e('row'),\n    rowKls,\n    {\n      [ns.e(`row-depth-${depth}`)]: canExpand && rowIndex >= 0,\n      [ns.is('expanded')]: canExpand && expandedRowKeys.includes(_rowKey),\n      [ns.is('hovered')]: !isScrolling && _rowKey === hoveringRowKey,\n      [ns.is('fixed')]: !depth && isFixedRow,\n      [ns.is('customized')]: Boolean(slots.row),\n    },\n  ]\n\n  const onRowHover = hasFixedColumns ? onRowHovered : undefined\n\n  const _rowProps = {\n    ...additionalProps,\n    columns,\n    columnsStyles,\n    class: kls,\n    depth,\n    expandColumnKey,\n    estimatedRowHeight: isFixedRow ? undefined : estimatedRowHeight,\n    isScrolling,\n    rowIndex,\n    rowData,\n    rowKey: _rowKey,\n    rowEventHandlers,\n    style,\n  }\n\n  return (\n    <Row {..._rowProps} onRowHover={onRowHover} onRowExpand={onRowExpanded}>\n      {slots}\n    </Row>\n  )\n}\n\nexport default RowRenderer\n"],"names":["RowRenderer","slots","columns","columnsStyles","depthMap","expandColumnKey","expandedRowKeys","estimatedRowHeight","hasFixedColumns","hoveringRowKey","rowData","rowIndex","style","isScrolling","rowProps","rowClass","rowKey","rowEventHandlers","ns","onRowHovered","onRowExpanded","_rowKey","depth","canExpand","Boolean","isFixedRow","kls","e","is","class","_createVNode","Row","_mergeProps"],"mappings":"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"}