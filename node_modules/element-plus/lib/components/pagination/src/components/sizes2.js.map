{"version":3,"file":"sizes2.js","sources":["../../../../../../../packages/components/pagination/src/components/sizes.vue"],"sourcesContent":["<template>\n  <span :class=\"ns.e('sizes')\">\n    <el-select\n      :model-value=\"innerPageSize\"\n      :disabled=\"disabled\"\n      :popper-class=\"popperClass\"\n      :size=\"size\"\n      @change=\"handleChange\"\n    >\n      <el-option\n        v-for=\"item in innerPageSizes\"\n        :key=\"item\"\n        :value=\"item\"\n        :label=\"item + t('el.pagination.pagesize')\"\n      />\n    </el-select>\n  </span>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, ref, watch } from 'vue'\nimport { isEqual } from 'lodash-unified'\nimport { ElOption, ElSelect } from '@element-plus/components/select'\nimport { useLocale, useNamespace } from '@element-plus/hooks'\nimport { buildProps, definePropType, mutable } from '@element-plus/utils'\nimport { usePagination } from '../usePagination'\n\nimport type { Nullable } from '@element-plus/utils'\n\nconst paginationSizesProps = buildProps({\n  pageSize: {\n    type: Number,\n    required: true,\n  },\n  pageSizes: {\n    type: definePropType<number[]>(Array),\n    default: () => mutable([10, 20, 30, 40, 50, 100] as const),\n  },\n  popperClass: {\n    type: String,\n    default: '',\n  },\n  disabled: Boolean,\n  size: {\n    type: String,\n    default: 'default',\n  },\n} as const)\n\nexport default defineComponent({\n  name: 'ElPaginationSizes',\n\n  components: {\n    ElSelect,\n    ElOption,\n  },\n\n  props: paginationSizesProps,\n  emits: ['page-size-change'],\n\n  setup(props, { emit }) {\n    const { t } = useLocale()\n    const ns = useNamespace('pagination')\n    const pagination = usePagination()\n    const innerPageSize = ref<Nullable<number>>(props.pageSize)\n\n    watch(\n      () => props.pageSizes,\n      (newVal, oldVal) => {\n        if (isEqual(newVal, oldVal)) return\n        if (Array.isArray(newVal)) {\n          const pageSize = newVal.includes(props.pageSize)\n            ? props.pageSize\n            : props.pageSizes[0]\n          emit('page-size-change', pageSize)\n        }\n      }\n    )\n\n    watch(\n      () => props.pageSize,\n      (newVal) => {\n        innerPageSize.value = newVal\n      }\n    )\n\n    const innerPageSizes = computed(() => props.pageSizes)\n\n    function handleChange(val: number) {\n      if (val !== innerPageSize.value) {\n        innerPageSize.value = val\n        pagination.handleSizeChange?.(Number(val))\n      }\n    }\n\n    return {\n      ns,\n      innerPageSizes,\n      innerPageSize,\n\n      t,\n      handleChange,\n    }\n  },\n})\n</script>\n"],"names":["buildProps","definePropType","mutable","defineComponent","ElSelect","ElOption","useLocale","useNamespace","usePagination","ref","watch","isEqual","computed","_resolveComponent","_openBlock","_createElementBlock","_normalizeClass","_createVNode","_withCtx","_Fragment","_renderList","_createBlock"],"mappings":"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"}