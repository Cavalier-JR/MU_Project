{"version":3,"file":"tree-select2.js","sources":["../../../../../../packages/components/tree-select/src/tree-select.vue"],"sourcesContent":["<script lang=\"ts\">\nimport { computed, defineComponent, h, onMounted, reactive, ref } from 'vue'\nimport { pick } from 'lodash-unified'\nimport ElSelect from '@element-plus/components/select'\nimport ElTree from '@element-plus/components/tree'\nimport { useSelect } from './select'\nimport { useTree } from './tree'\n\nexport default defineComponent({\n  name: 'ElTreeSelect',\n  // disable `ElSelect` inherit current attrs\n  inheritAttrs: false,\n  props: {\n    ...ElSelect.props,\n    ...ElTree.props,\n  },\n  setup(props, context) {\n    const { slots, expose } = context\n\n    const select = ref<InstanceType<typeof ElSelect>>()\n    const tree = ref<InstanceType<typeof ElTree>>()\n\n    const key = computed(() => props.nodeKey || props.valueKey || 'value')\n\n    const selectProps = useSelect(props, context, { select, tree, key })\n    const treeProps = useTree(props, context, { select, tree, key })\n\n    // expose ElTree/ElSelect methods\n    const methods = reactive({})\n    expose(methods)\n    onMounted(() => {\n      Object.assign(methods, {\n        ...pick(tree.value, [\n          'filter',\n          'updateKeyChildren',\n          'getCheckedNodes',\n          'setCheckedNodes',\n          'getCheckedKeys',\n          'setCheckedKeys',\n          'setChecked',\n          'getHalfCheckedNodes',\n          'getHalfCheckedKeys',\n          'getCurrentKey',\n          'getCurrentNode',\n          'setCurrentKey',\n          'setCurrentNode',\n          'getNode',\n          'remove',\n          'append',\n          'insertBefore',\n          'insertAfter',\n        ]),\n        ...pick(select.value, ['focus', 'blur']),\n      })\n    })\n\n    return () =>\n      h(\n        ElSelect,\n        /**\n         * 1. The `props` is processed into `Refs`, but `v-bind` and\n         * render function props cannot read `Refs`, so use `reactive`\n         * unwrap the `Refs` and keep reactive.\n         * 2. The keyword `ref` requires `Ref`, but `reactive` broke it,\n         * so use function.\n         */\n        reactive({\n          ...selectProps,\n          ref: (ref) => (select.value = ref),\n        }),\n        {\n          ...slots,\n          default: () =>\n            h(\n              ElTree,\n              reactive({\n                ...treeProps,\n                ref: (ref) => (tree.value = ref),\n              })\n            ),\n        }\n      )\n  },\n})\n</script>\n"],"names":["defineComponent","ElSelect","ElTree","select","ref","tree","computed","useSelect","useTree","reactive","onMounted","pick","h"],"mappings":";;;;;;;;;;;;AAQA,MAAK,YAAaA,mBAAa,CAAA;AAAA,EAC7B,IAAM,EAAA,cAAA;AAAA,EAEN,YAAc,EAAA,KAAA;AAAA,EACd,KAAO,EAAA;AAAA,IAAA,GACFC,cAAS,CAAA,KAAA;AAAA,IAAA,GACTC,kBAAO,CAAA,KAAA;AAAA,GACZ;AAAA,EACA,KAAA,CAAM,OAAO,OAAS,EAAA;AACpB,IAAM,MAAA,EAAE,OAAO,MAAW,EAAA,GAAA,OAAA,CAAA;AAE1B,IAAA,MAAMC,WAASC,OAAmC,EAAA,CAAA;AAClD,IAAA,MAAMC,SAAOD,OAAiC,EAAA,CAAA;AAE9C,IAAA,MAAM,MAAME,YAAS,CAAA,MAAM,MAAM,OAAW,IAAA,KAAA,CAAM,YAAY,OAAO,CAAA,CAAA;AAErE,IAAM,MAAA,WAAA,GAAcC,iBAAU,KAAO,EAAA,OAAA,EAAS,UAAEJ,QAAQ,QAAAE,MAAA,EAAM,KAAK,CAAA,CAAA;AACnE,IAAM,MAAA,SAAA,GAAYG,aAAQ,KAAO,EAAA,OAAA,EAAS,UAAEL,QAAQ,QAAAE,MAAA,EAAM,KAAK,CAAA,CAAA;AAG/D,IAAM,MAAA,OAAA,GAAUI,YAAS,CAAA,EAAE,CAAA,CAAA;AAC3B,IAAA,MAAA,CAAO,OAAO,CAAA,CAAA;AACd,IAAAC,aAAA,CAAU,MAAM;AACd,MAAA,MAAA,CAAO,OAAO,OAAS,EAAA;AAAA,QAClB,GAAAC,kBAAA,CAAKN,OAAK,KAAO,EAAA;AAAA,UAClB,QAAA;AAAA,UACA,mBAAA;AAAA,UACA,iBAAA;AAAA,UACA,iBAAA;AAAA,UACA,gBAAA;AAAA,UACA,gBAAA;AAAA,UACA,YAAA;AAAA,UACA,qBAAA;AAAA,UACA,oBAAA;AAAA,UACA,eAAA;AAAA,UACA,gBAAA;AAAA,UACA,eAAA;AAAA,UACA,gBAAA;AAAA,UACA,SAAA;AAAA,UACA,QAAA;AAAA,UACA,QAAA;AAAA,UACA,cAAA;AAAA,UACA,aAAA;AAAA,SACD,CAAA;AAAA,QAAA,GACEM,mBAAKR,QAAO,CAAA,KAAA,EAAO,CAAC,OAAA,EAAS,MAAM,CAAC,CAAA;AAAA,OACxC,CAAA,CAAA;AAAA,KACF,CAAA,CAAA;AAED,IAAO,OAAA,MACLS,KACE,CAAAX,cAAA,EAQAQ,YAAS,CAAA;AAAA,MACJ,GAAA,WAAA;AAAA,MACH,GAAK,EAAA,CAAC,IAAS,KAAAN,QAAA,CAAO,KAAQ,GAAA,IAAA;AAAA,KAC/B,CACD,EAAA;AAAA,MACK,GAAA,KAAA;AAAA,MACH,OAAS,EAAA,MACPS,KACE,CAAAV,kBAAA,EACAO,YAAS,CAAA;AAAA,QACJ,GAAA,SAAA;AAAA,QACH,GAAK,EAAA,CAAC,IAAS,KAAAJ,MAAA,CAAK,KAAQ,GAAA,IAAA;AAAA,OAC7B,CACH,CAAA;AAAA,KAEN,CAAA,CAAA;AAAA,GACJ;AACF,CAAC,CAAA,CAAA;;;;;"}